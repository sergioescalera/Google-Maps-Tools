var KmlViewerDemo,Google;(function(n){"use strict";function s(){h()}function h(){i=new google.maps.LatLng(u,f);r=$("#map-canvas");t=new google.maps.Map(r.get(0),{zoom:e,center:i,zoomControl:!0,scaleControl:!0,mapTypeControl:!0,rotateControl:!0,draggable:!0,draggableCursor:"default",draggingCursor:"move",mapTypeId:google.maps.MapTypeId.ROADMAP});o=new Google.Maps.KmlViewer(t)}var u=38,f=-100,e=5,t,i,r,o;n.init=s})(KmlViewerDemo||(KmlViewerDemo={})),function(n){var t;(function(n){"use strict";var t=function(){function n(n){this._map=n;this._optionsTemplate=$("#options-template");this._kmlItemTemplate=$("#kml-item-template");this._options=$(this._optionsTemplate.html());this._map.controls[google.maps.ControlPosition.TOP_LEFT].push(this._options.get(0));this._inputFile=$("#input-file");this._inputFile.change(this.FileSelected.bind(this));this._browse=$("#browse");this._browse.click(this.OpenFileDialog.bind(this));this._urlInput=$("#url");this._pathInput=$("#path");this._importButton=$("#import");this._importButton.click(this.ImportData.bind(this));this._items=[]}return n.prototype.OpenFileDialog=function(){toastr.info("Not implemented")},n.prototype.FileSelected=function(){var n=this._inputFile.prop("files");n&&n.length&&this._pathInput.val(n[0].name)},n.prototype.ImportData=function(){this.ImportFromUrl()},n.prototype.ImportFromUrl=function(){var u=this,n=this._urlInput.val(),f=n.substr(n.lastIndexOf("/")+1);if(this._urlInput.val(""),n){var i=new google.maps.KmlLayer({url:n,clickable:!0,map:this._map,preserveViewport:!0,suppressInfoWindows:!1}),t=$(this._kmlItemTemplate.html()),r=this._options.find("ul");this._items.length===0&&$('<li class="divider" role="separator"><\/li>').appendTo(r);this._items.push(t);t.find("span").text(f).end().find("input").prop("checked",!0).change(function(){t.find("input").prop("checked")?i.setMap(u._map):i.setMap(null)}).end().appendTo(r)}},n}();n.KmlViewer=t})(t=n.Maps||(n.Maps={}))}(Google||(Google={}));